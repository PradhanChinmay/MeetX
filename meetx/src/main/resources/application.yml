server:
  port: 8080
  error:
    include-message: always
    include-binding-errors: always

spring:
  application:
    name: webrtc-signaling-server
  
  websocket:
    message-size-limit: 64KB
    send-time-limit: 20000
    send-buffer-size-limit: 512KB

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always

webrtc:
  stun:
    servers:
      - urls: "stun:stun.l.google.com:19302"
      - urls: "stun:stun1.l.google.com:19302"
  turn:
    enabled: false
    servers: []
    # Future TURN config:
    # - urls: "turn:your-turn-server:3478"
    #   username: "your-username"
    #   credential: "your-password"
  
  room:
    max-participants: 2
    token-expiry-minutes: 60
    cleanup-interval-minutes: 30
    inactive-timeout-minutes: 120

logging:
  level:
    root: INFO
    com.videotranslate.signaling: DEBUG
    org.springframework.web.socket: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/signaling-server.log
    max-size: 10MB
    max-history: 30

cors:
  allowed-origins:
    - "http://localhost:3000"
    - "http://localhost:5173"
  allowed-methods:
    - GET
    - POST
    - PUT
    - DELETE
    - OPTIONS
  allowed-headers:
    - "*"
  allow-credentials: true
